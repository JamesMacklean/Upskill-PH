{% extends 'base.html' %}
{% load static %}
{% block content %}

<form action="" class="edit-update-profile" method="POST" enctype="multipart/form-data">
{% csrf_token %}
<h2>Edit my profile</h2>

    <div class="profile-container">
        <h2 class="profile-label">Profile Data</h2>
        <div class="profile-data">
            <label for="name"> Full name: </label>
            <input type="text" name="first_name" placeholder="First Name" value="{{profile_first_name}}">
            <input type="text" name="middle_name" placeholder="Middle Name (Optional)" value="{{profile_middle_name}}">
            <input type="text" name="last_name" placeholder="Last Name" value="{{profile_last_name}}">
        </div>

        <div class="profile-data">
                <label for="profile_pic">Upload/ Update your Profile Picture: </label>
            <input type="file" id="profile_pic" name="profile_pic" accept="image/*">
        </div>
            <input type="button" value="UPLOAD">
    </div>
    
    <div class="educ-container">
        <h2>Education and Work Experience</h2>
        <div class="educ-item">
            <label for="employ_status">Employment Status: </label>
            
            <select name="employ_status" id="empstatus">
                {% if employment_employ_status %}
                    <option value="" selected disabled hidden>{{employment_employ_status}}</option>
                {% endif %}
                {% for employment_status in employment_status_choices %}
                    <option value="{{employment_status}}">{{employment_status}}</option>
                {% endfor %}
            </select>
        </div>
    
        <div class="educ-item">
            <label for="industry">Industry: </label>
            <select name="industry" id="industry">
                {% if employment_industry %}
                    <option value="" selected disabled hidden>{{employment_industry}}</option>
                {% endif %}
                {% for industry in industry_choices %}
                    <option value="{{industry}}">{{industry}}</option>
                {% endfor %}
            </select>
        </div>
    
        <div class="educ-item">
            <label for="employer">Employer: </label>
            <input type="text" placeholder="Employer" name="employer" value="{{employment_employer}}">
        </div>
    
        <div class="educ-item">
            <label for="occupation">Occupation: </label>
            <input type="text" placeholder="Occupation" name="occupation" value="{{employment_occupation}}">
        </div>
    
        <div class="educ-item">
            <label for="exp_level">Experience Level: </label>
            <select name="exp_level" id="experience">
                {% if employment_experience %}
                    <option value="" selected disabled hidden>{{employment_experience}}</option>
                {% endif %}
                {% for experience in experience_choices %}
                    <option value="{{experience}}" >{{experience}}</option>
                {% endfor %}
            </select>
            </div>
    
        <div class="educ-item">
            <label for="degree">Degree: </label>
            <select name="degree" id="degree">
                {% if education_degree %}
                    <option value="" selected disabled hidden>{{education_degree}}</option>
                {% endif %}
                {% for degree in degree_choices %}
                    <option value="{{degree}}">{{degree}}</option>
                {% endfor %}
            </select>
        </div>

        <div class="educ-item">
            <label for="university">University: </label>
            <input type="text" name = "university" placeholder="University" value="{{education_school}}">
        </div>

        <div class="educ-item">
            <label for="study">Field of Study: </label>
            <select name="study" id="field">
                {% if education_study %}
                    <option value="" selected disabled hidden>{{education_study}}</option>
                {% endif %}
                {% for field_of_study in field_of_study_choices %}
                    <option value="{{field_of_study}}">{{field_of_study}}</option>
                {% endfor %}
            </select>
        </div>
    </div>
    
    <div class="about-container">
        <h2>About</h2>
    
        <div class="about">
            <label for="bio">About Me: </label>
            <textarea name="bio" id="bio" cols="30" rows="3">{{profile_about}}</textarea>
        </div>
    
    <!--  COUNTRY SELECTION START  -->
    
        <div class="about">
            <label for="country">Country: </label>
            <select name="country" id="country">
                {% if profile_country %}
                    <option value="" selected disabled hidden>{{profile_country}}</option>
                {% endif %}
                {% for country in country_choices %}
                    <option value="{{country}}">{{country}}</option>
                {% endfor %}
            </select>
        </div>
    
        <div class="about">
            <label for="region">Region: </label>
            <select id="region" name="region">
            </select>
        </div>

        <div class="about">
            <label for="municipality">Municipality: </label>
            <select id="municipality" name="municipality">
            </select>
        </div>
    
    <!--  COUNTRY SELECTION END  -->
    
        <div class="about">
            <label for="Socials">Social Media Links: </label>
            <p>Facebook</p><input type="text" placeholder="facebook">
            <p>LinkedIn</p><input type="text" placeholder="linkedin">
            <p>Twitter</p><input type="text" placeholder="twitter">
        </div>
    
        <div class="about">
            <label for="gender">Gender: </label>
                <select id="gender" name="gender">
                    {% if profile_gender %}
                    <option value="" selected disabled hidden>{{profile_gender}}</option>
                    {% endif %}
                    {% for gender in gender_choices %}
                        <option value="{{gender}}">{{gender}}</option>
                    {% endfor %}
            </select>
        </div>
    
        <div class="about">
            <label for="birthday">Date of Birth:</label>
            <input type="date" value="{{profile_birthday}}" name="birthday">
        </div>
    
        <div class="about">
            <label for="mobile">Mobile Number: </label>
            <input type="text" name="mobile" value="{{profile_contact}}">
        </div>
    
        <div class="about">
            <label for="details_privacy">Details Privacy: </label>
            <select name="details_privacy" id="details-privacy">
                    <option value="2" {% if profile_privacy == 2 %}selected{% endif %}>Only Me</option>
                    <option value="1" {% if profile_privacy == 1 %}selected{% endif %}>Scholarium Community</option>
                    <option value="0" {% if profile_privacy == 0 %}selected{% endif %}>Public on the Web</option>
            </select>
        </div>
    </div>
    
    <div class="save-changes">
        <input type="submit" value="SAVE CHANGES">
    </div>
    
</form>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.js"></script>
{% comment %} <script type="text/javascript" src="../../jquery.ph-locations.js"> {% endcomment %}
<script type="text/javascript" src="https://f001.backblazeb2.com/file/buonzz-assets/jquery.ph-locations.js"></script>
<script type="text/javascript">
    
    var my_handlers = {

        fill_provinces:  function(){

            var region_code = $(this).val();
            $('#province').ph_locations('fetch_list', [{"region_code": region_code}]);
            
        },

        fill_cities: function(){

            var province_code = $(this).val();
            $('#city').ph_locations( 'fetch_list', [{"province_code": province_code}]);
        },


        fill_barangays: function(){

            var city_code = $(this).val();
            $('#barangay').ph_locations('fetch_list', [{"city_code": city_code}]);
        }
    };

    $(function(){
        $('#region').on('change', my_handlers.fill_provinces);
        $('#city').on('change', my_handlers.fill_barangays);

        $('#region').ph_locations({'location_type': 'regions'});
        $('#province').ph_locations({'location_type': 'provinces'});
        $('#city').ph_locations({'location_type': 'cities'});
        $('#barangay').ph_locations({'location_type': 'barangays'});

        $('#region').ph_locations('fetch_list');
    });
    
    {% comment %} $( ".select option:selected" ).text(); {% endcomment %}
</script>

{% endblock %}
<!--  COUNTRY SELECTION STOP  -->